<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>Silly story generator</title>
    <link rel="stylesheet" href="wa10.css">
  </head>
  <body>
    <div class = "head">
        <strong>Silly Story Generator</strong>
    </div>
    
    <div>
      <label for="customName">Enter custom name:</label>
      <input id="customName" type="text" placeholder="" />
    </div>
    <div>
      <label for="us">US</label
      ><input id="us" type="radio" name="ukus" value="us" checked />
      <label for="uk">UK</label
      ><input id="uk" type="radio" name="ukus" value="uk" />
    </div>
    <div>
      <button class="randomize">Generate random story</button>
    </div>
    <!-- Thanks a lot to Willy Aguirre for his help with the code for this assessment -->
    <p class="story"></p>
    <script>
        const customize = document.getElementById(customName);
        const randomize = document.querySelector('.randomize');
        const story = document.querySelector('.story');

        function randomValueFromArray(array){
            const random = Math.floor(Math.random()*array.length);
            return array[random];
        }

        let storyText ="It was -20 fahrenheit outside, so :insertx: went for a walk. When they got to :inserty:, they stared in horror for a few moments, then :insertz:. Bob saw the whole thing, but was not surprised â€” :insertx: weighs 300 pounds, and it was a hot day."
        const insertX = ["the yeti, bigfoot, rudolf the rednose reindeer"];
        const insertY = ["the mall, the eiffel tower, starbucks"];
        const insertZ = ["turned into ice cream, fell into a whirlpool,flew away as a bird"];

        randomize.addEventListener('click',result);

        function result(){
            let newStory = storyText;
            const xItem= randomValueFromArray(insertX);
            const yItem= randomValueFromArray(insertY);
            const zItem = randomValueFromArray(insertZ); 

           newStory = newStory.replaceAll (':insertx', xItem);
           newStory = newStory.replaceAll(':inserty', yItem);
           newStory = newStory.replaceAll (':insertz', zItem);

            if(customName.value !== '') {
                const name = customName.value;  
                newStory = newStory.replaceAll('Carl', name);
        }
        
        if(document.getElementById("uk").checked) {
            const weight = Math.round(300) + "made up metrics";
            const temperature =  Math.round(94);
            newStory = newStory.replaceAll('300 pounds', weight);
            newStory = newStory.replaceAll ('94 fahrenheit', temperature);

        }

        story.textContent = newStory;
        story.style.visibility = 'visible';
    
        }

    

    </script>
  </body>
</html>